<!DOCTYPE html>

<html>

    <head>
        <meta charset="UTF-8" />
        <title>Basics - holes-in</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        
            <link rel="shortcut icon" type="image/png" href="images/holes-in-logo.svg" />
        
        
            <link type="text/css" rel="stylesheet" href="style/holes-in.css" />
        
            <link type="text/css" rel="stylesheet" href="style/solarized-dark.css" />
        
    </head>

    <body class="">

        <div class="page">

            

            
                <nav class="links">
                    <ul>
                        <li><a href="https://github.com/wanadev/holes-in">Github</a></li><li><a href="https://www.npmjs.com/package/holes-in">NPM</a></li>
                    </ul>
                </nav>
            

            <header>
                <h1>
                    
                        <img src="images/holes-in-logo.svg"  alt="holes-in logo" />
                    
                    <span>holes-in</span>
                </h1>
            </header>

            <div class="content">

                
                <article>
                    <p><img src="https://wanadev.github.io/holes-in/images/text-logo.png" alt="alt text"></p>
<blockquote>
<p>A javascript library to generate 3D mesh from a 2D outer path and 2D inner paths.</p>
</blockquote>
<h2 id="demo-">Demo:</h2>
<p><a href="https://wanadev.github.io/holes-in/debug/index.html">Please visit the demo here</a></p>
<h2 id="usage-">Usage:</h2>
<p>First you need to include holesIn library into your html code:</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"./holes-in.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre>

<h3 id="1-define-your-shape-and-holes">1 Define your shape and holes</h3>
<p>Holes and depth are represented by the same structure: a path and a depth. The depth of the out path represents the height of the final mesh.</p>
<p>A hole with a 0 depth will be dug throughout the mesh.</p>
<pre><code class="hljs javascript"><span class="hljs-keyword">const</span> out= { <span class="hljs-attr">path</span>: [ { <span class="hljs-attr">X</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">Y</span>: <span class="hljs-number">10</span> }, { <span class="hljs-attr">X</span>: <span class="hljs-number">110</span>, <span class="hljs-attr">Y</span>: <span class="hljs-number">10</span> }, { <span class="hljs-attr">X</span>: <span class="hljs-number">110</span>, <span class="hljs-attr">Y</span>: <span class="hljs-number">110</span> }, { <span class="hljs-attr">X</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">Y</span>: <span class="hljs-number">110</span> } ], <span class="hljs-attr">depth</span>: <span class="hljs-number">100</span> };
<span class="hljs-keyword">const</span> holes= [ { <span class="hljs-attr">path</span>: [{ <span class="hljs-attr">X</span>: <span class="hljs-number">50</span>, <span class="hljs-attr">Y</span>: <span class="hljs-number">50</span> }, { <span class="hljs-attr">X</span>: <span class="hljs-number">50</span>, <span class="hljs-attr">Y</span>: <span class="hljs-number">100</span> }, { <span class="hljs-attr">X</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">Y</span>: <span class="hljs-number">100</span> }, { <span class="hljs-attr">X</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">Y</span>: <span class="hljs-number">50</span> } ], <span class="hljs-attr">depth</span>: <span class="hljs-number">0</span> } ];</code></pre>
 HolesIn accept both points with upper or lowercase coordinates: { X: 0, Y: 0 }, { x: 0, y: 0 }.

### 2 Choose your options
You can choose to build all the mesh or only a part of it. Please check-out the DEMO for more details.
 <pre><code class="hljs javascript"><span class="hljs-keyword">const</span> options= { <span class="hljs-attr">inMesh</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">outMesh</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">frontMesh</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">backMesh</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">horizontalMesh</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">doNotInvertFrontNormal</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">invertBackNormal</span>: <span class="hljs-literal">false</span> };</code></pre>

<h3 id="3-generate-your-mesh">3 Generate your mesh</h3>
<pre><code class="hljs javascript"><span class="hljs-keyword">const</span> geom= holesIn.getGeometry(outerShape, holes, options);</code></pre>

<h3 id="4-merge-it">4 Merge it</h3>
<p>If you want to merge the meshes into a single one, nothing is simpler:</p>
<pre><code class="hljs javascript"><span class="hljs-keyword">const</span> mergedMesh= holesIn.mergeMeshes([geom.frontMesh, geom.backMesh, geom.inMesh, geom.outMesh]);</code></pre>

<h3 id="5-display-it-in-babylon-js">5 Display it in BABYLON js</h3>
 <pre><code class="hljs javascript"><span class="hljs-keyword">const</span> mesh= <span class="hljs-keyword">new</span> BABYLON.Mesh(<span class="hljs-string">"DemoMesh"</span>, scene);
<span class="hljs-keyword">const</span> vertexData = <span class="hljs-keyword">new</span> BABYLON.VertexData();
<span class="hljs-keyword">const</span> geom= holesIn.getGeometry(outerShape, holes, options);
<span class="hljs-keyword">const</span> mergedGeometry= holesIn.mergeMeshes([geom.frontMesh, geom.backMesh, geom.inMesh, geom.outMesh, geom.horizontalMesh]);
vertexData.positions = mergedGeometry.points;
vertexData.indices = mergedGeometry.faces;
vertexData.normals = mergedGeometry.normals;
vertexData.applyToMesh(mesh, <span class="hljs-number">1</span>);</code></pre>

<h3 id="debug">Debug</h3>
<p>You can generate a link to the DEMO page by passing the <strong>debug = true</strong> option to getGeometry.</p>
<h2 id="api">API</h2>
<p>Holes-in provides two functions</p>
<ul>
<li><strong>getGeometry</strong></li>
<li><strong>mergeMeshes</strong></li>
</ul>
<p>You can test all options on the DEMO page.</p>
<h3 id="getgeometry-api">getGeometry API</h3>
<p>The avaliable options are:</p>
<ul>
<li><strong>frontMesh</strong> <em>Boolean</em> generates the front mesh or not</li>
<li><strong>backMesh</strong> <em>Boolean</em> generates the back mesh or not</li>
<li><strong>inMesh</strong> <em>Boolean</em> generates the inner mesh or not</li>
<li><strong>outMesh</strong> <em>Boolean</em> generates the outer mesh or not</li>
<li><strong>horizontalMesh</strong> <em>Boolean</em> generates the horizontal mesh or not</li>
<li><strong>doNotBuild</strong> <em>Array</em> an array of segments that will not be build onto vertical geometries</li>
<li><strong>mergeVerticalGeometries</strong> <em>Boolean</em> If false, inMesh and outMesh will contain an array of meshes, containing one element per path semgent.</li>
<li><strong>debug</strong> <em>Boolean</em> If true, holes-in will console.log a link to the demo page with your parametters.</li>
<li><strong>lengthU</strong> <em>Number</em> If set, uvs will be mapped in such a way that [0;1] texture will fit into [0; lengthU] (path coordinate system)</li>
<li><strong>lengthV</strong> <em>Number</em> Same as lengthU, belong v axis</li>
<li><strong>doNotInvertFrontNormal</strong> <em>Boolean</em> Prevent the front mesh normal to be inverted (inverted by default)</li>
<li><strong>invertBackNormal</strong> <em>Boolean</em> Invert the back mesh normal (not inverted by default)</li>
</ul>

                </article>
            </div>

            <footer>
                Copyright (c)  2021 Wanadev
- <a href="http://www.wanadev.fr/">www.wanadev.fr</a><br />
Unless otherwise specified, this documentation is published under the
<a href="http://creativecommons.org/licenses/by-sa/3.0/deed.en">cc by-sa 3.0</a> license<br />
Generated using <a href="https://wanadev.github.io/enlightme/\">Enlight'me</a> 0.1.1

            </footer>

        </div>

        <script>

(function() {

    var MENU_UNFOLDED_CLASS = "mobile-menu-unfolded";

    var menuButton = document.getElementById("toggle-mobile-menu");
    var menuItems = document.querySelectorAll(".content nav a");

    function getAbsolutePosition(element) {
        if (typeof(element) == "string") {
            element = document.getElementById(element);
        }
        if (!(element instanceof Element)) {
            return {x: 0, y: 0};
        }

        var css;
        var origElement = element;

        try {
            css = getComputedStyle(element);
        } catch (e) {
            return {x: 0, y: 0};
        }

        if (!css) {
            return {x: 0, y: 0};
        }

        var x = -parseInt(css.borderLeftWidth);
        var y = -parseInt(css.borderTopWidth);

        while (element.offsetParent) {
            css = getComputedStyle(element);

            x += element.offsetLeft || 0;
            x += parseInt(css.borderLeftWidth);

            y += element.offsetTop || 0;
            y += parseInt(css.borderTopWidth);

            element = element.offsetParent;
        }

        element = origElement;

        while (element.parentNode && !(element instanceof HTMLBodyElement)) {
            x -= element.scrollLeft || 0;
            y -= element.scrollTop || 0;
            element = element.parentNode;
        }

        return {x: x, y: y};
    };

    function openMenu() {
        document.body.classList.add(MENU_UNFOLDED_CLASS);
    }

    function closeMenu() {
        document.body.classList.remove(MENU_UNFOLDED_CLASS);
    }

    function toggleMenu() {
        document.body.classList.toggle(MENU_UNFOLDED_CLASS);
    }

    function _onMenuItemClicked(event) {
        var href = this.getAttribute("href");

        if (href[0] != "#") {
            return;
        }

        event.preventDefault();

        var anchor = href.substr(1, href.length-1);
        var anchorPosition = getAbsolutePosition(anchor);
        document.scrollingElement.scrollTop = anchorPosition.y - menuButton.offsetHeight;

        closeMenu();
    }

    menuButton.onclick = toggleMenu;
    menuItems.forEach(function(item) {
        item.onclick = _onMenuItemClicked;
    });

})();

</script>

    </body>

</html>
